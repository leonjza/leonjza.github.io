<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> objection - runtime mobile exploration | #!/slash/note</title>
  <meta name="description" content="[&#39;Caffeine fueled&#39;, &#39;(╯°□°)╯︵ ┻━┻&#39;, &#39;Security guy&#39;, &#39;Metalhead&#39;, &#39;I saw your password&#39;, &#39;KOOBo&#43;KXleKAv&#43;KXlSnjgaM=&#39;]">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="objection - runtime mobile exploration" />
<meta property="og:description" content="
     


In this post, I want to introduce you to a toolkit that I have been working on, called objection. The name being a play on the words &ldquo;object&rdquo; and &ldquo;injection&rdquo;. objection is a runtime exploration toolkit powered by Frida, aimed at mobile platforms. objection aims to allow you to perform various security related tasks on unencrypted iOS applications, at runtime, on non-jailbroken iOS devices as well as Android applications on Android devices. Features include inspecting the application specific keychain, as well as inspecting various artifacts left on disk during (or after) execution." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://leonjza.github.io/blog/2017/07/11/objection-runtime-mobile-exploration/" />
<meta property="article:published_time" content="2017-07-11T14:05:41+02:00" />
<meta property="article:modified_time" content="2017-07-11T14:05:41+02:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="objection - runtime mobile exploration"/>
<meta name="twitter:description" content="
     


In this post, I want to introduce you to a toolkit that I have been working on, called objection. The name being a play on the words &ldquo;object&rdquo; and &ldquo;injection&rdquo;. objection is a runtime exploration toolkit powered by Frida, aimed at mobile platforms. objection aims to allow you to perform various security related tasks on unencrypted iOS applications, at runtime, on non-jailbroken iOS devices as well as Android applications on Android devices. Features include inspecting the application specific keychain, as well as inspecting various artifacts left on disk during (or after) execution."/>

  
  
  
  <link rel="stylesheet" href="https://leonjza.github.io/css/style-white.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://leonjza.github.io/images/favicon.png" />

  
  
  
  
  
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-44457032-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

    <header id="header">
  <a href="https://leonjza.github.io">
  
    <div id="logo" style="background-image: url(https://leonjza.github.io/images/logo.png)"></div>
  
  <div id="title">
    <h1>#!/slash/note</h1>
  </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fas fa-bars fa-2x"></i></a>
      </li>
      
        <li><a href="https://leonjza.github.io/">Home</a></li>
      
        <li><a href="https://leonjza.github.io/about/">About Me</a></li>
      
    </ul>
  </div>
</header>



    
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="content" itemprop="articleBody">
  
    <figure>
    <img src="https://leonjza.github.io/images/objection/objection.png"/> 
</figure>

<p>In this post, I want to introduce you to a toolkit that I have been working on, called <a href="https://github.com/sensepost/objection">objection</a>. The name being a play on the words &ldquo;object&rdquo; and &ldquo;injection&rdquo;. objection is a runtime exploration toolkit powered by Frida, aimed at mobile platforms. objection aims to allow you to perform various security related tasks on unencrypted iOS applications, at runtime, on non-jailbroken iOS devices as well as Android applications on Android devices. Features include inspecting the application specific keychain, as well as inspecting various artifacts left on disk during (or after) execution.</p>
<p>With jailbreaks for iOS devices becoming increasingly difficult to come by (not to mention the often &lsquo;dodgy&rsquo; utilities out there to perform the exploits that allow you access outside of the iOS jail), the expectation of iOS 11 coming soon and many other operational issues faced when trying to prevent an existing iOS device from updating (and losing the jailbreak), objection will allow you to perform a large portion of the typical mobile security assessment all within the existing constraints of the application sandbox.</p>
<h1 id="why">why</h1>
<p>Many times, we as analysts find ourselves in a position where we need to explain the &ldquo;real world relevance&rdquo; of the epic pwnage you had. Often, admitting to the fact that your device was Jailbroken, leaves much to be questioned about how &ldquo;real&rdquo; the attacks you performed are. &ldquo;But if you had root, its technically over anyways, right?&rdquo;. Yes, but that is not the only way.</p>
<p>Client engagement examples aside, most of the tooling that exists out there rely on the fact that your device is jailbroken (and rightfully so). But what if you simply dont have a Jailbroken device? Well, chances are you only focus on the API endpoints that the application consumes, hoping that the SSL pinning is broken enough for you to get an idea of how it works.</p>
<p>Lets change that.</p>
<h1 id="examples">examples</h1>
<p>Under the hood, objection uses Frida to inject objects into a patched applications runtime and executes them within that applications security context to perform various tasks. Typical tasks may be short lived commands such as ls that will let you browse the mobile devices filesystem from the mobile applications perspective, or longer lived commands such as ios sslpinning disable that hooks common methods that are used to pin SSL certificates, and prevent validations from failing as you use the app.</p>
<figure>
    <img src="https://leonjza.github.io/images/objection/objection_ls.png"/> 
</figure>

<p>While we are talking about the filesystem, it is also possible to download files straight off the device (where you have read access) as well as have the ability to re-upload files where write access is granted, such as the applications Documents directory.</p>
<p>objection also includes an inline SQLite editor to make manipulating random sqlite databases that might exist a breeze.</p>
<figure>
    <img src="https://leonjza.github.io/images/objection/objection_sqlite.png"/> 
</figure>

<p>Connecting to and querying an arbitrary SQLite database within an applications Documents directory.</p>
<h1 id="sample-usage">sample usage</h1>
<p>A sample session where objection is used to explore various parts of a sample iOS application that is already patched and running is shown below:</p>
<!-- raw HTML omitted -->
<h1 id="features">features</h1>
<p>While still a work in progress, objection already contains a number of features. A few notable ones are:</p>
<ul>
<li>Interact with the remote filesystem to move around, upload and download files where ever access is granted.</li>
<li>Dump the current processes memory, explore loaded modules and module exports.</li>
<li>Interact with SQLite databases on the remote filesystem.</li>
<li>Dump various bits of shared storages such as NSUserDefaults, NSHTTPCookieStorage and .plist files on an iOS devices disk in a human readable format.</li>
<li>Simulate a jailbroken environment to test an iOS applications behaviour in such an environment.</li>
<li>An iOS SSL pinning bypass module that implements the widely known SSL-Killswitch2 methods.</li>
<li>Dump the iOS keychain.</li>
<li>Perform iOS TouchID bypasses.</li>
<li>Perform a type of class-dump that will list the available Objective-C classes and class methods.</li>
<li>Dynamically hook and watch for method invocations of a specific class method. Additionally, objection can try and dump method arguments passed as they are invoked.</li>
</ul>
<p>&hellip; and much more.</p>
<h1 id="get-it">get it</h1>
<p>You can get objection right now over at https://github.com/sensepost/objection. Some setup work is needed, as well as a patching process for the IPA you are interested in. Fear not, all of that stuff is documented on the projects wiki that can be found here: https://github.com/sensepost/objection/wiki.</p>
  
  </div>
</article>


    <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2020  Leon Jacobs 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="https://leonjza.github.io/">Home</a></li>
         
        <li><a href="https://leonjza.github.io/about/">About Me</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=https://leonjza.github.io/lib/font-awesome/css/all.min.css>
<script src=https://leonjza.github.io/lib/jquery/jquery.min.js></script>
<script src=https://leonjza.github.io/js/main.js></script>
</html>
